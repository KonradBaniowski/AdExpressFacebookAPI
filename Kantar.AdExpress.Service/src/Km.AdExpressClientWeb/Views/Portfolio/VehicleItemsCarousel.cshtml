@using TNS.AdExpress.Domain.Translation;
@{
    ViewBag.Title = "Results";
}

<div class="container">

    <!--carou-vehicleView-->
    <div class="col-md-12" id="carou-vehicleView">
        <div class="panel panel-default panel-tab">

            <div class="panel-heading resume">
                <h3 class="panel-title pull-left">
                    <i class="fa fa-file-text text-lg text-primary-lt "></i> Chemin de fer du support
                </h3>
            </div>
            <!--/panel-heading text-left-->
            <div class="panel-body">
                <div class="panel-group">
                    <div id="vhCarousel" class="carousel">
                        <!--slide-->
                        <!-- Carousel items -->
                        <div class="carousel-inner">
                          
                        </div>
                        <!--/carousel-inner-->
                        <a class="left carousel-control" href="#vhCarousel" role="button" data-slide="prev">
                            <span class="glyphicon glyphicon-chevron-left" aria-hidden="true"></span>
                            <span class="sr-only">Previous</span>
                        </a>
                        <a class="right carousel-control" href="#vhCarousel" role="button" data-slide="next">
                            <span class="glyphicon glyphicon-chevron-right" aria-hidden="true"></span>
                            <span class="sr-only">Next</span>
                        </a>
                    </div>

                </div>
                <!--/vhCarousel-->
            </div>
            <!--/panel-body-->
        </div>
        <!--/panel panel-default panel-tab-->
    </div>
    <!--/carou-vehicleView-->


</div>

<!--modal vehicle  view  -->
<div class="modal fade" id="modal-vehicleView">
    <div class="modal-dialog">
        <div class="modal-content">          
        </div>
    </div>
</div>
<!--/modal-vehicleView-->

<!--modal-vehicleView-Img-->
<div class="modal fade" id="modal-vehicleView-Img" style="display: none;" data-backdrop="static">
    <div class="modal-dialog">
        <div class="modal-content">
            <div class="modal-header panel-heading header-popup-vehicleView">
                <button class="close" aria-hidden="true" type="button" data-dismiss="modal"><span aria-hidden="true">&times;</span></button>             
                <h4 class="font-normal m-t-none m-b-md text-primary-lt"><i class="fa fa-file-text blue"></i></h4>
            </div>
            <div class="modal-body">              
                <img class="img-full" src="">
            </div>
        </div>
    </div>
</div>
<!--/modal-vehicleView-Img-->

@section Scripts {
    <script>
        $(function () {

            if (typeof jQuery === "undefined") { throw new Error("Vehicle view modal requires jQuery") }

            var vhCarouselData = [
                   { "Id": 24904, "ParutionDate": "Vendredi 26/02/2016", "DayN": "20160326", "Src": "http://adexpress.kantarmedia.fr/ImagesPresse/24904/20160226/imagette/coe001.jpg", "NbInser": 12, "Invest": "123456789" },
                    { "Id": 24904, "ParutionDate": "Vendredi 25/02/2016", "DayN": "20160325", "Src": "http://adexpress.kantarmedia.fr/ImagesPresse/24904/20160225/imagette/coe001.jpg", "NbInser": 15, "Invest": "1234564789" },
                     { "Id": 24904, "ParutionDate": "Vendredi 23/02/2016", "DayN": "20160323", "Src": "http://adexpress.kantarmedia.fr/ImagesPresse/24904/20160223/imagette/coe001.jpg", "NbInser": 14, "Invest": "123456789" },
                      { "Id": 24904, "ParutionDate": "Vendredi 19/02/2016", "DayN": "20160319", "Src": "http://adexpress.kantarmedia.fr/ImagesPresse/24904/20160219/imagette/coe001.jpg", "NbInser": 12, "Invest": "45454545" },
                       { "Id": 24904, "ParutionDate": "Vendredi 18/02/2016", "DayN": "20160318", "Src": "http://adexpress.kantarmedia.fr/ImagesPresse/24904/20160218/imagette/coe001.jpg", "NbInser": 5, "Invest": "784524222" },
                        { "Id": 24904, "ParutionDate": "Vendredi 11/02/2016", "DayN": "20160311", "Src": "http://adexpress.kantarmedia.fr/ImagesPresse/24904/20160211/imagette/coe001.jpg", "NbInser": 10, "Invest": "123456789" },
                         { "Id": 24904, "ParutionDate": "Vendredi 10/02/2016", "DayN": "20160310", "Src": "http://adexpress.kantarmedia.fr/ImagesPresse/24904/20160210/imagette/coe001.jpg", "NbInser": 12, "Invest": "4242424242" },
                          { "Id": 24904, "ParutionDate": "Vendredi 09/02/2016", "DayN": "20160309", "Src": "http://adexpress.kantarmedia.fr/ImagesPresse/24904/20160209/imagette/coe001.jpg", "NbInser": 5, "Invest": "123456789" },
                          { "Id": 24904, "ParutionDate": "Vendredi 05/02/2016", "DayN": "20160305", "Src": "http://adexpress.kantarmedia.fr/ImagesPresse/24904/20160205/imagette/coe001.jpg", "NbInser": 12, "Invest": "123456789" },
                          { "Id": 24904, "ParutionDate": "Vendredi 04/02/2016", "DayN": "20160304", "Src": "http://adexpress.kantarmedia.fr/ImagesPresse/24904/20160204/imagette/coe001.jpg", "NbInser": 12, "Invest": "155424242" },
                          { "Id": 24904, "ParutionDate": "Vendredi 03/02/2016", "DayN": "20160303", "Src": "http://adexpress.kantarmedia.fr/ImagesPresse/24904/20160203/imagette/coe001.jpg", "NbInser": 13, "Invest": "215755" },
                          { "Id": 24904, "ParutionDate": "Vendredi 02/02/2016", "DayN": "20160302", "Src": "http://adexpress.kantarmedia.fr/ImagesPresse/24904/20160202/imagette/coe001.jpg", "NbInser": 11, "Invest": "84545454" }
            ];

            var LABEL_NB_INSERTION = "Nombre d'insertion :";
            var LABEL_TOTAL_INVEST = "Total investissement : ";
            ShowVehicleCarousel(vhCarouselData, LABEL_NB_INSERTION, LABEL_TOTAL_INVEST);

            var vehicleItemsData = [
                 { "ParutionDate": "Vendredi 26/02/2016",  "Src": "http://adexpress.kantarmedia.fr/ImagesPresse/24904/20160226/imagette/coe001.jpg", "SrcZoom": "http://adexpress.kantarmedia.fr/ImagesPresse/24904/20160226/coe001.jpg", "NbPage": 44, "Title": "EQUIPE" },
                  { "ParutionDate": "Vendredi 26/02/2016",  "Src": "http://adexpress.kantarmedia.fr/ImagesPresse/24904/20160226/imagette/coe002.jpg", "SrcZoom": "http://adexpress.kantarmedia.fr/ImagesPresse/24904/20160226/coe002.jpg", "NbPage": 44, "Title": "EQUIPE" },
                   {  "ParutionDate": "Vendredi 26/02/2016",  "Src": "http://adexpress.kantarmedia.fr/ImagesPresse/24904/20160226/imagette/cor003.jpg", "SrcZoom": "http://adexpress.kantarmedia.fr/ImagesPresse/24904/20160226/cor003.jpg", "NbPage": 44, "Title": "EQUIPE" },
                  { "ParutionDate": "Vendredi 26/02/2016",  "Src": "http://adexpress.kantarmedia.fr/ImagesPresse/24904/20160226/imagette/cor004.jpg", "SrcZoom": "http://adexpress.kantarmedia.fr/ImagesPresse/24904/20160226/cor004.jpg", "NbPage": 44, "Title": "EQUIPE" },
                      { "ParutionDate": "Vendredi 26/02/2016",  "Src": "http://adexpress.kantarmedia.fr/ImagesPresse/24904/20160226/imagette/cor005.jpg", "SrcZoom": "http://adexpress.kantarmedia.fr/ImagesPresse/24904/20160226/cor005.jpg", "NbPage": 44, "Title": "EQUIPE" },
                  { "ParutionDate": "Vendredi 26/02/2016",  "Src": "http://adexpress.kantarmedia.fr/ImagesPresse/24904/20160226/imagette/cor006.jpg", "SrcZoom": "http://adexpress.kantarmedia.fr/ImagesPresse/24904/20160226/cor006.jpg", "NbPage": 44, "Title": "EQUIPE" },
                   {  "ParutionDate": "Vendredi 26/02/2016", "Src": "http://adexpress.kantarmedia.fr/ImagesPresse/24904/20160226/imagette/cor007.jpg", "SrcZoom": "http://adexpress.kantarmedia.fr/ImagesPresse/24904/20160226/cor007.jpg", "NbPage": 44, "Title": "EQUIPE" },
            ];

            var LABEL_NB_PAGES = "  Nombre de page : ";
            var LABEL_NEXT = "Suivant";
            var LABEL_PREV = "Précédent";

            OpenOneVehicleModalCarousel(vehicleItemsData, LABEL_NB_PAGES, LABEL_NEXT, LABEL_PREV);

            OpenZoomImageModal();

       

        });

        function ShowVehicleCarousel(vhCarouselData, labelNbInsertion,labelTotalInvest) {
            $("#carou-vehicleView").hide();
           
            var htmlArr = [];


            $(".carousel-inner").empty();
            var colNb = 0;
            $.each(vhCarouselData, function (i, val) {

                colNb++;

                if (colNb == 1) {
                    if (i == 0) {

                        htmlArr.push("<div class='item active'><div class='row'> ");
                    }
                    else htmlArr.push("<div class='item'><div class='row'>");
                }

                htmlArr.push(" <div class='col-sm-3'>");

                htmlArr.push("<div class='text-center text-white'><div class='bg-black-only padder-v-mi'>");
                htmlArr.push(val.ParutionDate);
                htmlArr.push("</div></div>");


                //<!--text-center text-white-->
                htmlArr.push(" <div class='row no-gutter'><div class='col-xs-12' href='#modal-vehicleView' data-toggle='modal' ");
                //data-dayN
                htmlArr.push(" data-dayN='");
                htmlArr.push(val.DayN);
                htmlArr.push("'");
                //data-mId
                htmlArr.push(" data-mId='");
                htmlArr.push(val.Id);
                htmlArr.push("'");
                //data-nbInser
                htmlArr.push(" data-nbInser='");
                htmlArr.push(val.NbInser);
                htmlArr.push("'");
                htmlArr.push(" ><img src='");
                htmlArr.push(val.Src);
                htmlArr.push("' class='img-full' alt='Equipe'>");
                htmlArr.push("</div></div>");
                htmlArr.push(" <div class='text-center padder-v-mi'><p>");
                htmlArr.push(labelNbInsertion);
                htmlArr.push("<strong>");
                htmlArr.push(val.NbInser);
                htmlArr.push("</strong></p><p>");
                htmlArr.push(labelTotalInvest);
                htmlArr.push("<strong>");
                htmlArr.push(val.Invest);
                htmlArr.push("</strong></p>");
                htmlArr.push("</div> </div>");
                // <!--/text-center padder-v-mi  et /col-sm-3 -->

                if (colNb == 4) {
                    colNb = 0;
                    htmlArr.push("</div></div>");
                }
                // <!-- row et item-->

            });

            if (colNb > 0) {
                htmlArr.push("</div></div>");
                // <!--/col-sm-3 et row et item-->
            }
            $(".carousel-inner").html(htmlArr.join(""));
            $("#carou-vehicleView").show();
        }

        function OpenOneVehicleModalCarousel(vehicleItemsData, labelNbPages, labelNext, labelPrev) {
            $("#modal-vehicleView > .modal-dialog > .modal-content").empty();

            $("#modal-vehicleView").on('shown.bs.modal', function (event) {

              

                var htmlArr = [];
                var colNb = 0;
                $.each(vehicleItemsData, function (i, val) {

                    if (i == 0) {
                        //<!--modal-header -->
                        htmlArr.push("<div class='modal-header panel-heading header-popup-vehicleView'>");
                        htmlArr.push(" <button class='close' aria-hidden'true' type='button' data-dismiss='modal'><span aria-hidden='true'>&times;</span></button>");
                        htmlArr.push(" <h4 class='modal-title font-normal m-t-none m-b-md text-primary-lt' id='myModalLabel'>");
                        htmlArr.push("<i class='fa fa-file-text blue'></i>  ");
                        htmlArr.push(val.Title);
                        htmlArr.push(" - ");
                        htmlArr.push(val.ParutionDate);
                        htmlArr.push("</h4><p class='pull-right text-white'>");
                        htmlArr.push(labelNbPages);
                        htmlArr.push(val.NbPage);
                        htmlArr.push(" </p>  </div>");
                        //<!--/modal-header -->

                        //<!--modal-body -->
                        htmlArr.push(" <div class='modal-body'>");

                        //<!--carou-vehicleView-OneVehicle-->
                        htmlArr.push("  <div id='carou-vehicleView-OneVehicle' class='carousel'>");

                        //<!--carousel-inner-->
                        htmlArr.push("<div class='carousel-inner'>");
                    }

                    colNb++;

                    // <!--item et row-->
                    if (colNb == 1) {
                        if (i == 0) {

                            htmlArr.push("<div class='item active'><div class='row'> ");
                        }
                        else htmlArr.push("<div class='item'><div class='row'>");
                    }

                    //  <!--col-md-4-->
                    htmlArr.push("<div class='col-md-4 no-padder' href='#modal-vehicleView-Img' data-toggle='modal' ");
                    htmlArr.push(" data-src-zoom='");
                    htmlArr.push(val.SrcZoom);
                    htmlArr.push("' data-parution-date='");
                    htmlArr.push(val.ParutionDate);
                    htmlArr.push("' data-title='");
                    htmlArr.push(val.Title);
                    htmlArr.push("'> <img class='img-full' alt='image 01' src='");
                    htmlArr.push(val.Src);
                    htmlArr.push("'> </div>");
                    //  <!/--col-md-4-->

                    if (colNb == 3) {
                        colNb = 0;
                        htmlArr.push("</div></div>");
                        // <!--/item et row-->
                    }
                });

                if (vehicleItemsData.length > 0) {

                    if (colNb > 0) {
                        htmlArr.push("</div></div>");
                        // <!--/item et row-->
                    }

                    htmlArr.push("  </div>"); //<!--/carousel-inner-->

                    //<!--left carousel-control-->
                    htmlArr.push(" <a class='left carousel-control black' href='#carou-vehicleView-OneVehicle' role='button' data-slide='prev'>");
                    htmlArr.push("   <span class='glyphicon glyphicon-chevron-left' aria-hidden='true'></span> <span class='sr-only'>");
                    htmlArr.push(labelPrev);
                    htmlArr.push("</span>  </a>");
                    //<!--/left carousel-control-->

                    //<!--right carousel-control-->
                    htmlArr.push(" <a class='right carousel-control black' href='#carou-vehicleView-OneVehicle' role='button' data-slide='next'>");
                    htmlArr.push("   <span class='glyphicon glyphicon-chevron-right' aria-hidden='true'></span> <span class='sr-only'>");
                    htmlArr.push(labelNext);
                    htmlArr.push("</span></a>");
                    //<!--/right carousel-control-->

                    htmlArr.push("  </div>"); //<!--/carou-vehicleView-OneVehicle-->
                    htmlArr.push("  </div>");   //<!--/modal-body -->
                }

                $("#modal-vehicleView > .modal-dialog > .modal-content").html(htmlArr.join(""));

            });

            $("#modal-vehicleView").on('hide.bs.modal', function () {
                $("#modal-vehicleView > .modal-dialog > .modal-content").empty();
            });

        }

        function OpenVehicleViewModal() {

            $("#modal-vehicleView > .modal-dialog > .modal-content").empty();

            $("#modal-vehicleView").on('shown.bs.modal', function (event) {

                var vehicleItemsData = [
                  { "mId": 24904, "pDate": "Vendredi 26/02/2016", "dayN": "20160326", "src": "http://adexpress.kantarmedia.fr/ImagesPresse/24904/20160226/imagette/coe001.jpg", "srcZoom": "http://adexpress.kantarmedia.fr/ImagesPresse/24904/20160226/coe001.jpg", "nbPage": 44, "title": "EQUIPE" },
                  { "mId": 24904, "pDate": "Vendredi 26/02/2016", "dayN": "20160326", "src": "http://adexpress.kantarmedia.fr/ImagesPresse/24904/20160226/imagette/coe002.jpg", "srcZoom": "http://adexpress.kantarmedia.fr/ImagesPresse/24904/20160226/coe002.jpg", "nbPage": 44, "title": "EQUIPE" },
                  { "mId": 24904, "pDate": "Vendredi 26/02/2016", "dayN": "20160326", "src": "http://adexpress.kantarmedia.fr/ImagesPresse/24904/20160226/imagette/cor003.jpg", "srcZoom": "http://adexpress.kantarmedia.fr/ImagesPresse/24904/20160226/cor003.jpg", "nbPage": 44, "title": "EQUIPE" },
                  { "mId": 24904, "pDate": "Vendredi 26/02/2016", "dayN": "20160326", "src": "http://adexpress.kantarmedia.fr/ImagesPresse/24904/20160226/imagette/cor004.jpg", "srcZoom": "http://adexpress.kantarmedia.fr/ImagesPresse/24904/20160226/cor004.jpg", "nbPage": 44, "title": "EQUIPE" },
                  { "mId": 24904, "pDate": "Vendredi 26/02/2016", "dayN": "20160326", "src": "http://adexpress.kantarmedia.fr/ImagesPresse/24904/20160226/imagette/cor005.jpg", "srcZoom": "http://adexpress.kantarmedia.fr/ImagesPresse/24904/20160226/cor005.jpg", "nbPage": 44, "title": "EQUIPE" },
                  { "mId": 24904, "pDate": "Vendredi 26/02/2016", "dayN": "20160326", "src": "http://adexpress.kantarmedia.fr/ImagesPresse/24904/20160226/imagette/cor006.jpg", "srcZoom": "http://adexpress.kantarmedia.fr/ImagesPresse/24904/20160226/cor006.jpg", "nbPage": 44, "title": "EQUIPE" },
                  { "mId": 24904, "pDate": "Vendredi 26/02/2016", "dayN": "20160326", "src": "http://adexpress.kantarmedia.fr/ImagesPresse/24904/20160226/imagette/cor007.jpg", "srcZoom": "http://adexpress.kantarmedia.fr/ImagesPresse/24904/20160226/cor007.jpg", "nbPage": 44, "title": "EQUIPE" },
                ];
                var colNb = 0;
                var htmlArr = [];
                $.each(vehicleItemsData, function (i, val) {

                    //<!--/modal-header -->

                    if (i == 0) {
                        htmlArr.push("<div class='modal-header panel-heading header-popup-vehicleView'>");
                        htmlArr.push(" <button class='close' aria-hidden'true' type='button' data-dismiss='modal'><span aria-hidden='true'>&times;</span></button>");
                        htmlArr.push(" <h4 class='modal-title font-normal m-t-none m-b-md text-primary-lt' id='myModalLabel'>");
                        htmlArr.push("<i class='fa fa-file-text blue'></i>  ");
                        htmlArr.push(val.title);
                        htmlArr.push(" - ");
                        htmlArr.push(val.pDate);
                        htmlArr.push("</h4><p class='pull-right text-white'>");
                        htmlArr.push("  Nombre de page : ");
                        htmlArr.push(val.nbPage);
                        htmlArr.push(" </p>  </div>");

                        //Modal body
                        htmlArr.push(" <div class='modal-body'>");

                        //<!--/Ligne 1-->

                        htmlArr.push("   <div class='col-md-12'>");
                        htmlArr.push("  <div class='col-md-4'></div>");
                        htmlArr.push("  <div class='col-md-4' href='#modal-vehicleView-Img' data-toggle='modal' data-srcZoom='");
                        htmlArr.push(val.srcZoom);
                        htmlArr.push("'  data-title='");
                        htmlArr.push(val.title);
                        htmlArr.push("'  data-pDate='");
                        htmlArr.push(val.pDate);
                        htmlArr.push("'> ");
                        htmlArr.push("  <img class='img-full' alt='image 01' src='");
                        htmlArr.push(val.src);
                        htmlArr.push("'>");
                        htmlArr.push("  </div> <div class='col-md-4'></div> </div>");
                    }
                    else {
                        colNb++;
                        //<!--/col-md-12-->
                        if (colNb == 1) {
                            htmlArr.push("  <div class='col-md-12'> ");
                        }

                        htmlArr.push("   <div class='col-md-4 no-padder' href='#modal-vehicleView-Img' data-toggle='modal' data-srcZoom='");
                        htmlArr.push(val.srcZoom);
                        htmlArr.push("'  data-title='");
                        htmlArr.push(val.title);
                        htmlArr.push("'  data-pDate='");
                        htmlArr.push(val.pDate);
                        htmlArr.push("'> ");
                        htmlArr.push("  <img class='img-full' alt='image 01' src='");
                        htmlArr.push(val.src);
                        htmlArr.push("'> </div>");

                        if (colNb == 3) {
                            colNb = 0;
                            htmlArr.push("     </div>");//END  //<!--/col-md-12-->
                        }
                    }
                });

                if (colNb > 0) {
                    htmlArr.push(" </div>");//END  //<!--/col-md-12-->

                }

                if (vehicleItemsData.length > 0) {
                    htmlArr.push("  </div>");  //end Modal body
                }

                $("#modal-vehicleView > .modal-dialog > .modal-content").html(htmlArr.join(""));
            });

            $("#modal-vehicleView").on('hide.bs.modal', function () {
                $("#modal-vehicleView > .modal-dialog > .modal-content").empty();
            });
        }

        function OpenZoomImageModal() {
            $("#modal-vehicleView-Img > .modal-dialog > .modal-content > .modal-body > .img-full").attr('src', '');

            $("#modal-vehicleView-Img").on('shown.bs.modal', function (event) {
                var button = $(event.relatedTarget);// Button that triggered the modal
                var srcZoom = button.data('src-zoom').toString(); // Extract info from data-* attributes
                var pDate = button.data('parution-date').toString(); // Extract info from data-* attributes
                var title = button.data('title').toString(); // Extract info from data-* attributes
                $("#modal-vehicleView-Img > .modal-dialog > .modal-content > .modal-body > .img-full").attr('src', srcZoom);
                $("#modal-vehicleView-Img h4 ").html("<i class='fa fa-file-text blue'></i>" + title + " - " + pDate);
            });

            $("#modal-vehicleView-Img").on('hide.bs.modal', function () {
                $("#modal-vehicleView-Img > .modal-dialog > .modal-content > .modal-body > .img-full").attr('src', '');
            });

        }

    </script>

}
