@model List<Km.AdExpressClientWeb.Models.MediaPlanNavigationNode>
@{
    ViewBag.Title = "Results";
}


<!-- Infragistics Combined CSS -->
@*<script src="http://ajax.aspnetcdn.com/ajax/modernizr/modernizr-2.8.3.js"></script>*@
@*<script src="http://code.jquery.com/jquery-1.9.1.min.js"></script>
    <script src="http://code.jquery.com/ui/1.10.3/jquery-ui.min.js"></script>*@

<!-- Infragistics Combined Scripts -->


<div class="row">
    @Html.Partial("Presentation")
    <div class="col-lg-12 col-md-12 col-sm-12 col-xs-12 margin-top-30">
        <div class="row">
            <ul class="timeline">
                @foreach (var navigation in Model)
                {
                    if (navigation.IsActive)
                    {
                        if (navigation.Id > 1)
                    if (navigation.Id < Model.Count())
                    {
                        <li class="tl-item">
                            <div class="tl-wrap tl-active">
                                <div class="tl-content">
                                </div>
                            </div>
                        </li>
                    }
                        <li class="tl-header">
                            <a class="btn btn-warning btn-circle" href="@Url.Action(navigation.Action, navigation.Controller, navigation.Id)">
                                <i class="fa fa-file-text"></i>
                            </a>
                            <p class="lead">@navigation.Title</p>
                        </li>
                    }
                      
                        if (navigation.Id > 1)
                        {
                        <li class="tl-header">
                            <a class="btn btn-warning btn-circle btn-empty" href="@Url.Action(navigation.Action, navigation.Controller, navigation.Id)">
                                <i class="fa fa-file-text"></i>
                            </a>
                            <p class="lead">@navigation.Title</p>
                        </li>
                }
            </ul>

            <p id="changeColSett">Test</p>

            <table id="grid"></table>



        </div>
    </div>
</div>
@section Scripts {
    <script>
        if (typeof jQuery === "undefined") { throw new Error("jQuery") }
        $(function () {
            var cols = [];
            var data = [];
            data[1] = [
                { "TestH1": 0, "PID": -1, "TestH2": "Andrew", "TestH3": "Fuller", "reportsTo": "-" },
                { "TestH1": 1, "PID": -1, "TestH2": "Jonathan", "TestH3": "Smith", "reportsTo": "-" },
                { "TestH1": 2, "PID": -1, "TestH2": "Nancy", "TestH3": "Davolio", "reportsTo": "-" },
                { "TestH1": 3, "PID": -1, "TestH2": "Steven", "TestH3": "Buchanan", "reportsTo": "-" },
                // sub of ID 1
                { "TestH1": 4, "PID": 0, "TestH2": "Janet", "TestH3": "Leverling", "reportsTo": "0" },
                { "TestH1": 5, "PID": 0, "TestH2": "Laura", "TestH3": "Callahan", "reportsTo": "0" },
                { "TestH1": 6, "PID": 0, "TestH2": "Margaret", "TestH3": "Peacock", "reportsTo": "0" },
                { "TestH1": 7, "PID": 0, "TestH2": "Michael", "TestH3": "Suyama", "reportsTo": "0" },
                // sub of ID 4
                { "TestH1": 8, "PID": 4, "TestH2": "Anne", "TestH3": "Dodsworth", "reportsTo": "4" },
                { "TestH1": 9, "PID": 4, "TestH2": "Danielle", "TestH3": "Davis", "reportsTo": "4" },
                { "TestH1": 10, "PID": 4, "TestH2": "Robert", "TestH3": "King", "reportsTo": "4" },
                 //sub of ID 2
                { "TestH1": 11, "PID": 2, "TestH2": "Peter", "TestH3": "Lewis", "reportsTo": "2" },
                { "TestH1": 12, "PID": 2, "TestH2": "Ryder", "TestH3": "Zenaida", "reportsTo": "2" },
                { "TestH1": 13, "PID": 2, "TestH2": "Wang", "TestH3": "Mercedes", "reportsTo": "2" },
                // sub of ID 3
                { "TestH1": 14, "PID": 3, "TestH2": "Theodore", "TestH3": "Zia", "reportsTo": "3" },
                { "TestH1": 15, "PID": 3, "TestH2": "Lacota", "TestH3": "Mufutau", "reportsTo": "3" },
                // sub of ID 16
                { "TestH1": 16, "PID": 15, "TestH2": "Jin", "TestH3": "Elliott", "reportsTo": "16" },
                { "TestH1": 17, "PID": 15, "TestH2": "Armand", "TestH3": "Ross", "reportsTo": "16" },
                { "TestH1": 18, "PID": 15, "TestH2": "Dane", "TestH3": "Rodriquez", "reportsTo": "16" },
                // sub of ID 19
                { "TestH1": 19, "PID": 18, "TestH2": "Declan", "TestH3": "Lester", "reportsTo": "19" },
                { "TestH1": 20, "PID": 18, "TestH2": "Bernard", "TestH3": "Jarvis", "reportsTo": "19" },
                // sub of ID 20
                { "TestH1": 21, "PID": 20, "TestH2": "Jeremy", "TestH3": "Donaldson", "reportsTo": "20" }
            ];

            data[0] = [
                "TestH1",
                "TestH2",
                "TestH3"
            ];



            $("#grid").igTreeGrid({
                dataSource: data,
                primaryKey: "TestH1",
                width: "100%",
                defaultColumnWidth: 200,
                avgRowHeight: 60,
                autoGenerateColumns: true,
            });



            $("#changeColSett").click(function () {

                for (var key1 in data[0]) {
                    colType = typeof (data[0][key1]);

                    cols.push({
                        headerText: data[0][key1],
                        key: data[0][key1],
                        width: '200px',
                        dataType: colType
                    })
                }
                $("#grid").igTreeGrid("destroy");
                $("#grid").igTreeGrid({
                    dataSource: data[1],
                    primaryKey: "TestH1",
                    foreignKey: "PID",
                    autoGenerateColumns: false,
                    columns: cols
                })
            });

        });
    </script>
}

@*<script>
    if (typeof jQuery === "undefined") { throw new Error("jQuery") }
    $(function () {
        alert("aze")
        ;
    });

    //$(function () {
    //    var data = [];
    //    data[1] = [
    //        { "TestH1": 0, "PID": -1, "TestH2": "Andrew", "TestH3": "Fuller", "reportsTo": "-" },
    //        { "TestH1": 1, "PID": -1, "TestH2": "Jonathan", "TestH3": "Smith", "reportsTo": "-" },
    //        { "TestH1": 2, "PID": -1, "TestH2": "Nancy", "TestH3": "Davolio", "reportsTo": "-" },
    //        { "TestH1": 3, "PID": -1, "TestH2": "Steven", "TestH3": "Buchanan", "reportsTo": "-" },
    //        // sub of ID 1
    //        { "TestH1": 4, "PID": 0, "TestH2": "Janet", "TestH3": "Leverling", "reportsTo": "0" },
    //        { "TestH1": 5, "PID": 0, "TestH2": "Laura", "TestH3": "Callahan", "reportsTo": "0" },
    //        { "TestH1": 6, "PID": 0, "TestH2": "Margaret", "TestH3": "Peacock", "reportsTo": "0" },
    //        { "TestH1": 7, "PID": 0, "TestH2": "Michael", "TestH3": "Suyama", "reportsTo": "0" },
    //        // sub of ID 4
    //        { "TestH1": 8, "PID": 4, "TestH2": "Anne", "TestH3": "Dodsworth", "reportsTo": "4" },
    //        { "TestH1": 9, "PID": 4, "TestH2": "Danielle", "TestH3": "Davis", "reportsTo": "4" },
    //        { "TestH1": 10, "PID": 4, "TestH2": "Robert", "TestH3": "King", "reportsTo": "4" },
    //        // sub of ID 2
    //        { "TestH1": 11, "PID": 2, "TestH2": "Peter", "TestH3": "Lewis", "reportsTo": "2" },
    //        { "TestH1": 12, "PID": 2, "TestH2": "Ryder", "TestH3": "Zenaida", "reportsTo": "2" },
    //        { "TestH1": 13, "PID": 2, "TestH2": "Wang", "TestH3": "Mercedes", "reportsTo": "2" },
    //        // sub of ID 3
    //        { "TestH1": 14, "PID": 3, "TestH2": "Theodore", "TestH3": "Zia", "reportsTo": "3" },
    //        { "TestH1": 15, "PID": 3, "TestH2": "Lacota", "TestH3": "Mufutau", "reportsTo": "3" },
    //        // sub of ID 16
    //        { "TestH1": 16, "PID": 15, "TestH2": "Jin", "TestH3": "Elliott", "reportsTo": "16" },
    //        { "TestH1": 17, "PID": 15, "TestH2": "Armand", "TestH3": "Ross", "reportsTo": "16" },
    //        { "TestH1": 18, "PID": 15, "TestH2": "Dane", "TestH3": "Rodriquez", "reportsTo": "16" },
    //        // sub of ID 19
    //        { "TestH1": 19, "PID": 18, "TestH2": "Declan", "TestH3": "Lester", "reportsTo": "19" },
    //        { "TestH1": 20, "PID": 18, "TestH2": "Bernard", "TestH3": "Jarvis", "reportsTo": "19" },
    //        // sub of ID 20
    //        { "TestH1": 21, "PID": 20, "TestH2": "Jeremy", "TestH3": "Donaldson", "reportsTo": "20" }
    //    ];

    //    data[0] = [
    //        "TestH1",
    //        "TestH2",
    //        "TestH3"
    //    ];



    //    $("#grid").igTreeGrid({
    //        dataSource: data,
    //        primaryKey: "TestH1",
    //        width: "100%",
    //        defaultColumnWidth: 200,
    //        avgRowHeight: 60,
    //        autoGenerateColumns: true
    //    });



    //    $("#changeColSett").click(function () {

    //        for (var key1 in data[0]) {
    //            colType = typeof (data[0][key1]);

    //            cols.push({
    //                headerText: key1,
    //                key: key1,
    //                width: '200px',
    //                dataType: colType
    //            })
    //        }
    //        $("#grid").igTreeGrid("destroy");
    //        $("#grid").igTreeGrid({
    //            dataSource: data[1],
    //            autoGenerateColumns: false,
    //            columns: cols
    //        })
    //    });

    //});
</script>*@